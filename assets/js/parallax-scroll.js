$(function(){ParallaxScroll.init()});var ParallaxScroll={showLogs:!1,round:1e3,init:function(){if(this._log("init"),this._inited){this._log("Already Inited"),this._inited=!0;return}this._requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),this._onScroll(!0)},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(e){this.showLogs&&console.log("Parallax Scroll / "+e)},_onScroll:function(e){var t=$(document).scrollTop(),n=$(window).height();this._log("onScroll "+t),$("[data-parallax]").each($.proxy(function(s,o){var r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,O,x,E,k,A,a=$(o),i=[],C=!1,w=a.data("style");w==null&&(w=a.attr("style")||"",a.data("style",w)),_=[a.data("parallax")];for(f=2;;f++)if(a.data("parallax"+f))_.push(a.data("parallax-"+f));else break;x=_.length;for(f=0;f<x;f++)c=_[f],u=c["from-scroll"],u==null&&(u=Math.max(0,$(o).offset().top-n)),u=u|0,g=c.distance,m=c["to-scroll"],g==null&&m==null&&(g=n),g=Math.max(g|0,1),h=c.easing,j=c["easing-return"],(h==null||!$.easing||!$.easing[h])&&(h=null),(j==null||!$.easing||!$.easing[j])&&(j=h),h&&(d=c.duration,d==null&&(d=g),d=Math.max(d|0,1),y=c["duration-return"],y==null&&(y=d),g=1,r=a.data("current-time"),r==null&&(r=0)),m==null&&(m=u+g),m=m|0,l=c.smoothness,l==null&&(l=10),l=l|0,(e||l==0)&&(l=1),l=l|0,p=t,p=Math.max(p,u),p=Math.min(p,m),h&&(a.data("sens")==void 0&&a.data("sens","back"),p>u&&(a.data("sens")=="back"?(r=1,a.data("sens","go")):r++),p<m&&(a.data("sens")=="go"?(r=1,a.data("sens","back")):r++),e&&(r=d),a.data("current-time",r)),this._properties.map($.proxy(function(e){var n,s,f,g,o=0,t=c[e];if(t==null)return;e=="scale"||e=="scaleX"||e=="scaleY"||e=="scaleZ"?o=1:t=t|0,n=a.data("_"+e),n==null&&(n=o),f=(t-o)*((p-u)/(m-u))+o,s=n+(f-n)/l,h&&r>0&&r<=d&&(g=o,a.data("sens")=="back"&&(g=t,t=-t,h=j,d=y),s=$.easing[h](null,r,g,t,d)),s=Math.ceil(s*this.round)/this.round,s==n&&f==t&&(s=t),i[e]||(i[e]=0),i[e]+=s,n!=i[e]&&(a.data("_"+e,i[e]),C=!0)},this));C&&(i.z!=void 0&&(b=c.perspective,b==null&&(b=800),v=a.parent(),v.data("style")||v.data("style",v.attr("style")||""),v.attr("style","perspective:"+b+"px; -webkit-perspective:"+b+"px; "+v.data("style"))),i.scaleX==void 0&&(i.scaleX=1),i.scaleY==void 0&&(i.scaleY=1),i.scaleZ==void 0&&(i.scaleZ=1),i.scale!=void 0&&(i.scaleX*=i.scale,i.scaleY*=i.scale,i.scaleZ*=i.scale),E="translate3d("+(i.x?i.x:0)+"px, "+(i.y?i.y:0)+"px, "+(i.z?i.z:0)+"px)",k="rotateX("+(i.rotateX?i.rotateX:0)+"deg) rotateY("+(i.rotateY?i.rotateY:0)+"deg) rotateZ("+(i.rotateZ?i.rotateZ:0)+"deg)",A="scaleX("+i.scaleX+") scaleY("+i.scaleY+") scaleZ("+i.scaleZ+")",O=E+" "+k+" "+A+";",this._log(O),a.attr("style","transform:"+O+" -webkit-transform:"+O+" "+w))},this)),window.requestAnimationFrame?window.requestAnimationFrame($.proxy(this._onScroll,this,!1)):this._requestAnimationFrame($.proxy(this._onScroll,this,!1))}}